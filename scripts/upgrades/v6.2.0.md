# Upgrade v6.2.0 - Solidity v8 Migration

-   **Date**: TBD
-   **Git tag**: [v6.2.0](https://github.com/iExecBlockchainComputing/PoCo/releases/tag/v6.2.0)
-   **Upgrade script**: `./v6.2.0.ts`
-   **Upgrade GitHub Action run**:
    -   **Testnet**: [run id](https://github.com/iExecBlockchainComputing/PoCo/actions/runs/<runId>)
    -   **Mainnet**: [run id](https://github.com/iExecBlockchainComputing/PoCo/actions/runs/<runId>)

## Summary of changes

-   Migrate all facets from Solidity v6 to Solidity v8
-   Remove IexecERC20Facet (address: `0xB0152eC6f48E64a92B66D4736aFA1b02d8D45169`)
-   Deploy new Solidity v8 versions of all facets:
    -   IexecAccessorsABILegacyFacet
    -   IexecCategoryManagerFacet
    -   IexecConfigurationExtraFacet
    -   IexecConfigurationFacet
    -   IexecEscrowTokenFacet
    -   IexecOrderManagementFacet
    -   IexecPoco1Facet
    -   IexecPoco2Facet
    -   IexecPocoAccessorsFacet
    -   IexecRelayFacet

### New Features

-   **Cross-framework TEE compatibility (#325)**: Ignore TEE framework bits (Scone, Gramine, TDX) in dataset tags during order matching. This allows existing dataset orders with SGX tags (e.g., Scone `0b0011`) to be consumed on TDX workerpools (`0b1001`), enabling cross-framework compatibility.

-   **Deposit and match orders in a single transaction (#316)**: Users can now call `RLC.approveAndCall()` to deposit tokens and execute `matchOrders` atomically in a single transaction. This improves UX by reducing the number of transactions required to create a deal.

## Deployment logs

### Arbitrum Sepolia

```
TODO
```

### Arbitrum Mainnet

```
TODO
```
