# Changelog

## vNEXT

## [6.1.0](https://github.com/iExecBlockchainComputing/PoCo/compare/poco-v6.0.0...poco-v6.1.0) (2025-09-24)


### üöÄ Added

* Add Arbitrum One support and configuration ([ffa7107](https://github.com/iExecBlockchainComputing/PoCo/commit/ffa710798c909f143cb18ae63d0450ac69d51c10))
* Add conventional commits check and release please ([#256](https://github.com/iExecBlockchainComputing/PoCo/issues/256)) ([00a111e](https://github.com/iExecBlockchainComputing/PoCo/commit/00a111e7ba35cc9a61796eb65a06936b32078db2))
* Add verify all contracts command ([0663e7c](https://github.com/iExecBlockchainComputing/PoCo/commit/0663e7ca38954ccc02e3faa43cc550b534dad1cf))
* Build before publishing ([7f73bf0](https://github.com/iExecBlockchainComputing/PoCo/commit/7f73bf0bb8758fdc22384f8502e194b00e8498f4))
* D'ont deploy Boost facet ([2203977](https://github.com/iExecBlockchainComputing/PoCo/commit/2203977a33c7a6d228415206611f88d8ea6c83dd))
* Deploy on Arbitrum Sepolia ([#246](https://github.com/iExecBlockchainComputing/PoCo/issues/246)) ([6a4fac2](https://github.com/iExecBlockchainComputing/PoCo/commit/6a4fac29d4d0197bee9bf2b6fb5d67fe1e7b7639))
* deploy on testnets with CreateX  ([#216](https://github.com/iExecBlockchainComputing/PoCo/issues/216)) ([aa27cae](https://github.com/iExecBlockchainComputing/PoCo/commit/aa27caeaef6466300bb708764d7b96097939a16f))
* **deploy:** add multi-chain deployment workflow with configuration management ([#218](https://github.com/iExecBlockchainComputing/PoCo/issues/218)) ([f83a6cf](https://github.com/iExecBlockchainComputing/PoCo/commit/f83a6cf4c35744962400cfd9d4ca48e6d5bb6154))
* migrate old IexecAccessorsFacet to IexecPocoAccessorsFacet  ([#259](https://github.com/iExecBlockchainComputing/PoCo/issues/259)) ([786bee4](https://github.com/iExecBlockchainComputing/PoCo/commit/786bee4582d433cbdddd8b0c3c09bfb525bcb0c9))
* Migrate proxy to Diamond pattern (ERC-2535) ([#241](https://github.com/iExecBlockchainComputing/PoCo/issues/241)) ([1d2c8f7](https://github.com/iExecBlockchainComputing/PoCo/commit/1d2c8f776f4c6b788439669aa8dae8ac40770306))
* prepare mainnet ([#248](https://github.com/iExecBlockchainComputing/PoCo/issues/248)) ([0ad0267](https://github.com/iExecBlockchainComputing/PoCo/commit/0ad026752a2dcc252afc8a2b14599e3890154952))
* Publish NPM package for version v5.6.0 rc1 ([#247](https://github.com/iExecBlockchainComputing/PoCo/issues/247)) ([c37a0de](https://github.com/iExecBlockchainComputing/PoCo/commit/c37a0de8c321e39b6fb7e91578f38d38a0d2134d))
* Publish npm package on tag event ([6a00f0c](https://github.com/iExecBlockchainComputing/PoCo/commit/6a00f0cdf01e1b78f2c58496ba94bae5f89a720c))
* refactor addModulesToProxy to use new factory classes and validate IexecLibOrders_v5 ([08d616d](https://github.com/iExecBlockchainComputing/PoCo/commit/08d616d459c19410ead1a46052de252ce13ee7b3))
* refactor upgrade-helper to use DiamondCut for module updates ([1a547e7](https://github.com/iExecBlockchainComputing/PoCo/commit/1a547e7bab55eec88739033e455972ee1c48f355))
* refactor upgrade-helper to use DiamondCut for module updates ([#235](https://github.com/iExecBlockchainComputing/PoCo/issues/235)) ([b4963d2](https://github.com/iExecBlockchainComputing/PoCo/commit/b4963d2b1b1e61dff7450afe0b80bdb8859c094d))
* Remove ENS modules and related files/dep from the project ([#225](https://github.com/iExecBlockchainComputing/PoCo/issues/225)) ([1da7dd1](https://github.com/iExecBlockchainComputing/PoCo/commit/1da7dd17b817ca25c25dc2b38c977572b63cd5a0))
* rename-part-3 ([#234](https://github.com/iExecBlockchainComputing/PoCo/issues/234)) ([59f7eaa](https://github.com/iExecBlockchainComputing/PoCo/commit/59f7eaa17715218d3ba0c43e22cadc86b8940b59))
* replace erc1538 naming to diamond proxy naming - part 1  ([#229](https://github.com/iExecBlockchainComputing/PoCo/issues/229)) ([c83fed7](https://github.com/iExecBlockchainComputing/PoCo/commit/c83fed7ad0d2faa34abb41ee0ad20b9451b2224f))
* replace erc1538 naming to diamond proxy naming - part 2  ([#230](https://github.com/iExecBlockchainComputing/PoCo/issues/230)) ([b6a5a16](https://github.com/iExecBlockchainComputing/PoCo/commit/b6a5a16a7a948a8ea7546269dd47a7e9703cefc0))
* Restore compatibility with iExec SDK. ([#240](https://github.com/iExecBlockchainComputing/PoCo/issues/240)) ([3b43823](https://github.com/iExecBlockchainComputing/PoCo/commit/3b438236e90dd22848b116c06aaa98f40c9335ad))
* Save `IexecLibOrders_v5` in config file ([#242](https://github.com/iExecBlockchainComputing/PoCo/issues/242)) ([11b00d0](https://github.com/iExecBlockchainComputing/PoCo/commit/11b00d0880ea1cb21e7642786cbf714fae78a336))
* set constant from public to internal ([#260](https://github.com/iExecBlockchainComputing/PoCo/issues/260)) ([07c96e1](https://github.com/iExecBlockchainComputing/PoCo/commit/07c96e108fbc8d922cc036f16a52f7c50265611c))
* Set owner at deployment ([fd02b4b](https://github.com/iExecBlockchainComputing/PoCo/commit/fd02b4b8e0c19bc6ad9caf9e2e6ea523532a0c96))
* Set owner at deployment ([#245](https://github.com/iExecBlockchainComputing/PoCo/issues/245)) ([619b0b8](https://github.com/iExecBlockchainComputing/PoCo/commit/619b0b89ae593fdca90ca56dfdcbfb2177971e05))
* Target latest EVM version ([9cd64d6](https://github.com/iExecBlockchainComputing/PoCo/commit/9cd64d652c1daa31303d6a530ce8849afeeb00fa))
* Target latest EVM version ([#239](https://github.com/iExecBlockchainComputing/PoCo/issues/239)) ([b173aef](https://github.com/iExecBlockchainComputing/PoCo/commit/b173aef1daed609c4c5d4bc45e481bbfa0a4734f))
* update changelog and refactor encodeModuleProxyUpdate function in upgrade-helper ([64bfac3](https://github.com/iExecBlockchainComputing/PoCo/commit/64bfac36e8c907f518ecdfc4eb3ae7139076cea6))
* update workflow to trigger only on pull requests ([c69de7d](https://github.com/iExecBlockchainComputing/PoCo/commit/c69de7d759f96b71461e38b13e3547e4350a2cef))
* Use latest npm package ([7d37a34](https://github.com/iExecBlockchainComputing/PoCo/commit/7d37a348e06385412ee8905ca57c97f7f24473dd))
* Use namespaced storage ([#236](https://github.com/iExecBlockchainComputing/PoCo/issues/236)) ([1e89ce3](https://github.com/iExecBlockchainComputing/PoCo/commit/1e89ce389c6d43b9afa89de6647d7f1978c70464))
* Use owner and token addresses ([697c0dd](https://github.com/iExecBlockchainComputing/PoCo/commit/697c0ddcb1304ec47dd2ad80d008c68945813344))
* use storage lib ([#243](https://github.com/iExecBlockchainComputing/PoCo/issues/243)) ([4376b26](https://github.com/iExecBlockchainComputing/PoCo/commit/4376b26426af02f56e145639cc9907879d20147c))


### ‚úçÔ∏è Changed

* Adapt contracts file tree ([#238](https://github.com/iExecBlockchainComputing/PoCo/issues/238)) ([dffdcc1](https://github.com/iExecBlockchainComputing/PoCo/commit/dffdcc12247cfff5d5127c45ef4f66662119b468))
* Add EOF empty line ([60adfc2](https://github.com/iExecBlockchainComputing/PoCo/commit/60adfc215e1c73fa2b35a14e520105ad3fa56cea))
* Bump package version ([ac2f3af](https://github.com/iExecBlockchainComputing/PoCo/commit/ac2f3af1c55e81504a1c769c45e77a4fd1230d2e))
* change Address type to string for ENS registry addresses in tests ([3a53442](https://github.com/iExecBlockchainComputing/PoCo/commit/3a53442c0455f082cf1efad3b045c16c7acafa41))
* clean ([b8d87d3](https://github.com/iExecBlockchainComputing/PoCo/commit/b8d87d346d4610e19c7af805c32bbcc0e0998219))
* Clean ([5562ea5](https://github.com/iExecBlockchainComputing/PoCo/commit/5562ea58cf0e5edc8cbd0f11bf91c7313d4f790f))
* clean up whitespace in registries test file ([38e9c53](https://github.com/iExecBlockchainComputing/PoCo/commit/38e9c53034c645d32cb4dc0ad13e7ecdc6c3682f))
* Cleazn ([37e0171](https://github.com/iExecBlockchainComputing/PoCo/commit/37e017122291a27f12ba9f613d3d0fca537315d7))
* Debug publish job ([e58b8d2](https://github.com/iExecBlockchainComputing/PoCo/commit/e58b8d25c6ebf819570ae08c6a9633c2108ad92b))
* Debug publish job ([f957e73](https://github.com/iExecBlockchainComputing/PoCo/commit/f957e73ba988a1b61b75d57f7900b0b31feedd84))
* Debug publish job ([56a7fae](https://github.com/iExecBlockchainComputing/PoCo/commit/56a7fae2c202156fd0a6eca9868866242d2514fb))
* Debug publish job ([c80669c](https://github.com/iExecBlockchainComputing/PoCo/commit/c80669c54fdea29572e89ff951fafadba8b4a262))
* Debug publish job ([91f4719](https://github.com/iExecBlockchainComputing/PoCo/commit/91f471928a3b53f6b4da5aacac046c14e26c7a8f))
* Ensure DEPLOYER_PRIVATE_KEY is set before deployment ([f05fef5](https://github.com/iExecBlockchainComputing/PoCo/commit/f05fef5b39afaa9978dec1a1598b2f8f079425c5))
* Fix build with new storage layout ([#237](https://github.com/iExecBlockchainComputing/PoCo/issues/237)) ([efa1d22](https://github.com/iExecBlockchainComputing/PoCo/commit/efa1d228657b4997e4be44944c7fd279bbde2091))
* Fix comment ([6d98829](https://github.com/iExecBlockchainComputing/PoCo/commit/6d988297e484fe3679aa0928bc6781b7bc1fbe52))
* Fix smart contracts verification ([39dfe99](https://github.com/iExecBlockchainComputing/PoCo/commit/39dfe99f13db4abf074b5419c4fe331e0de7eb76))
* Fix tests ([5fafdf9](https://github.com/iExecBlockchainComputing/PoCo/commit/5fafdf9f252989c6c795ce37585706d01ec36092))
* format contracts ([#227](https://github.com/iExecBlockchainComputing/PoCo/issues/227)) ([287cc9c](https://github.com/iExecBlockchainComputing/PoCo/commit/287cc9cdd4d4e2d67e82ab2b450625bb4d2969bf))
* Move facets to rool folder ([d0c3eee](https://github.com/iExecBlockchainComputing/PoCo/commit/d0c3eee26aa24d3ed0266e8fc229d1841750d217))
* Provide default value for DEPLOYER_PRIVATE_KEY in configuration ([eb70c09](https://github.com/iExecBlockchainComputing/PoCo/commit/eb70c093432b77ddd0af6a728beaf8a862627d46))
* remove unnecessary BigInt conversion in IexecPoco1 tests ([4158636](https://github.com/iExecBlockchainComputing/PoCo/commit/4158636cca4bf14496cd86f453e047804360affb))
* remove unused erc1271Mock variable and streamline contract address retrieval ([671cd4e](https://github.com/iExecBlockchainComputing/PoCo/commit/671cd4e8e362bb740b5f3f9f1069f4a7ff8cd96e))
* remove unused proxyAddress retrieval in IexecPoco2 finalize test ([0e7c668](https://github.com/iExecBlockchainComputing/PoCo/commit/0e7c668fdd79b148b4304b60d22d55b9187c87bc))
* Rename Avalanche Fuji and Arbitrum Sepolia network configuration ([#217](https://github.com/iExecBlockchainComputing/PoCo/issues/217)) ([85844a4](https://github.com/iExecBlockchainComputing/PoCo/commit/85844a430027130beb30c37e7068325bbd17bf90))
* rename BN2Address to bigintToAddress and update parameter type ([bf68e03](https://github.com/iExecBlockchainComputing/PoCo/commit/bf68e03c516bfd3a43fc02cb2bfbc509f5e40615))
* Rename common facet ([f28c23b](https://github.com/iExecBlockchainComputing/PoCo/commit/f28c23b81aa29e321ce2642085149b1fa61b0fdc))
* Rename job ([5894859](https://github.com/iExecBlockchainComputing/PoCo/commit/589485997945054b62a388aa48457cce53437922))
* rename oracleConsumerInstanceAddress to oracleConsumerAddress in IexecPoco2 finalize tests ([eb06287](https://github.com/iExecBlockchainComputing/PoCo/commit/eb062875ef2d16df12d2d49fba63e4c0a4411a44))
* Rename variable ([11db51a](https://github.com/iExecBlockchainComputing/PoCo/commit/11db51a9ad4b978a329d900e68c3050fda97290f))
* replace Address type with string in IexecPoco tests ([8b7ae82](https://github.com/iExecBlockchainComputing/PoCo/commit/8b7ae826de3938703d872f9466507886620a5f14))
* replace BN2Address with bigintToAddress in registries tests ([1112812](https://github.com/iExecBlockchainComputing/PoCo/commit/1112812ad5f6c363ce9e1ad7aa16623f56522582))
* replace iexecPocoAddress with proxyAddress in event assertions ([5359f01](https://github.com/iExecBlockchainComputing/PoCo/commit/5359f018a4843765e6a5dc9d40b60892f373681b))
* replace iexecPocoAddress with proxyAddress in IexecPoco2 tests ([604d985](https://github.com/iExecBlockchainComputing/PoCo/commit/604d985cb5fb28096a5490e5de6a99ea81fa913d))
* Reuse resuable workflow ([18b332e](https://github.com/iExecBlockchainComputing/PoCo/commit/18b332e2a346eb2b73f05c292795376490dce034))
* update callback address retrieval in IexecPoco2 finalize test ([3740772](https://github.com/iExecBlockchainComputing/PoCo/commit/374077278b18c41b5724b3d723403dc3982d0541))
* update comment to reflect correct ethers function for volume conversion ([f9bc1f0](https://github.com/iExecBlockchainComputing/PoCo/commit/f9bc1f0462fc6af1ae349e59d7649f5f56faba90))
* update copyright year to 2025 in IexecPocoBoost test files ([623b75c](https://github.com/iExecBlockchainComputing/PoCo/commit/623b75cc8ea3f7344efee5b8aef565d9467c5d3c))
* update occurences ([b2a7c9c](https://github.com/iExecBlockchainComputing/PoCo/commit/b2a7c9c6d7373d0ea09f79108d6389e95e5844a4))
* Update occurences ([8c53199](https://github.com/iExecBlockchainComputing/PoCo/commit/8c53199ecc40f53f3c8dcad19ed7c2fcb8fed62b))
* Update owner address in config.json to MAINNETS_POCO_OWNER ([d7644e7](https://github.com/iExecBlockchainComputing/PoCo/commit/d7644e77871effed693b60b660f51aea7108ac2b))
* Update owner address placeholder in config.json ([e474afc](https://github.com/iExecBlockchainComputing/PoCo/commit/e474afc1a500e5d1766d3896a5f92654168354dc))
* update signature handling and improve BN2Address function ([662cd03](https://github.com/iExecBlockchainComputing/PoCo/commit/662cd03b38d84ca4ed97c70d8bc97d37b26a00b7))
* update storage layout compatibility check with validation options ([8a19032](https://github.com/iExecBlockchainComputing/PoCo/commit/8a19032b665a1be87791f5ce71f997428163d28c))
* Update tests and config ([f11adcd](https://github.com/iExecBlockchainComputing/PoCo/commit/f11adcde6a65ee36a750202e686f5a223b7f4aae))
* update timestamp handling in IexecWrapper and poco-tools ([cd14b8d](https://github.com/iExecBlockchainComputing/PoCo/commit/cd14b8d83cea60b12572a5e0b389cfcce1cf1274))
* Update token address for Arbitrum One in config.json ([466cb47](https://github.com/iExecBlockchainComputing/PoCo/commit/466cb4798a8275f7eb0e705b9963389ef04f71cc))
* Use rlc factory insead of ownable ([3b9c895](https://github.com/iExecBlockchainComputing/PoCo/commit/3b9c89535f4301d206873f1d7da54be127a3f67b))


### üìã Misc

* Add prettierignore file ([cf87ba8](https://github.com/iExecBlockchainComputing/PoCo/commit/cf87ba8e37cbd921d9c002cf92cd74010a6cb986))
* Bump npm package version ([001b910](https://github.com/iExecBlockchainComputing/PoCo/commit/001b9103d1b0e5612ab6e686fd8f95d1a6326945))
* Clean ([377d066](https://github.com/iExecBlockchainComputing/PoCo/commit/377d0666a779841585c9f1c45c140cff5287f169))
* Clean ci files ([9bc85f4](https://github.com/iExecBlockchainComputing/PoCo/commit/9bc85f4d1b9c05b1548d4a0e6d77b48e58106057))
* Do some cleaning ([aaf7224](https://github.com/iExecBlockchainComputing/PoCo/commit/aaf72249e439dff90ae4343a6ce636cc697efa7a))
* Rename job ([1505b2d](https://github.com/iExecBlockchainComputing/PoCo/commit/1505b2d50db88c354cd52d7ec98332077df712a1))
* Rename script file ([6219cc3](https://github.com/iExecBlockchainComputing/PoCo/commit/6219cc3a1bf2e7a9de784360ebdc1faf5d4e4444))
* Save deployment artifacts for arbitrum (run_id: 16677192533) ([ce97314](https://github.com/iExecBlockchainComputing/PoCo/commit/ce9731475834a38534c0fee7b7f8934b3ecf0da7))
* Save deployment artifacts for arbitrum (run_id: 16677192533) ([#249](https://github.com/iExecBlockchainComputing/PoCo/issues/249)) ([5512018](https://github.com/iExecBlockchainComputing/PoCo/commit/5512018bd15facb71ef70c441eeb4594e83af8c8))
* Save deployment artifacts for arbitrumSepolia (run_id: 16524196468) ([6cb191a](https://github.com/iExecBlockchainComputing/PoCo/commit/6cb191a0a457d5f1036df9caa03fd60a9b061db2))
* Save deployment artifacts for arbitrumSepolia (run_id: 16524713536) ([41f4688](https://github.com/iExecBlockchainComputing/PoCo/commit/41f4688d0260c9a961fb2408791b3364ca5db1c9))
* Save deployment artifacts for arbitrumSepolia (run_id: 16525021658) ([629120d](https://github.com/iExecBlockchainComputing/PoCo/commit/629120dff57b850e87f6fb57f26bb6d4a28e0648))
* Save deployment artifacts for arbitrumSepolia (run_id: 16576595973) ([bd32bb9](https://github.com/iExecBlockchainComputing/PoCo/commit/bd32bb909aec7d5bf435242253719b465add1c95))
* Update changelog ([e15f6dd](https://github.com/iExecBlockchainComputing/PoCo/commit/e15f6dd1363b8e330a6fed084517fb3b068b2cb4))
* Update Changelog file ([ed08f1c](https://github.com/iExecBlockchainComputing/PoCo/commit/ed08f1c6f75ffcb38bf81f7914dd6dcd6cf34284))
* Update changelog for release ([#251](https://github.com/iExecBlockchainComputing/PoCo/issues/251)) ([a393319](https://github.com/iExecBlockchainComputing/PoCo/commit/a393319cf3ecc1e08ca2069c8c0b9b56f6658794))
* Update changelog of previous release ([533eb68](https://github.com/iExecBlockchainComputing/PoCo/commit/533eb681648119d419a827f8cfe9d48be3797fec))
* Update command name ([5756d44](https://github.com/iExecBlockchainComputing/PoCo/commit/5756d442808b9dd84fb0b7df4a69d9b7ec55dd85))

## v6.0.0 - Diamond Proxy Pattern (ERC-2535)

### What's new?

#### üö® Breaking changes
The proxy architecture has been migrated from [ERC-1538 Transparent Contract Standard](https://eips.ethereum.org/EIPS/eip-1538) to [ERC-2535 Diamond Standard](https://eips.ethereum.org/EIPS/eip-2535).

> **Impact:**
> - **No changes** to on-chain business logic or contract interfaces used by regular clients.
> - Existing integrations that interact with contract functions will **continue to work without modification**.
> - **Breaking change** applies only to how the proxy‚Äôs upgrade mechanism works and how contract structure is exposed to **indexers, explorers, or tooling** that previously relied on ERC-1538‚Äôs upgrade API.

üí° **Versioning note:**
Technically, since public APIs for business logic did not change, this could be a **minor release** under Semantic Versioning.
However, because the upgrade proxy standard changed and this could impact **indexers and tooling**, releasing as a **major** version ensures better visibility of this architectural shift.

##### ‚ùå Removed functions and events (ERC-1538):

- `function totalFunctions(...)`
- `function functionByIndex(...)`
- `function functionById(...)`
- `function functionExists(...)`
- `function functionSignatures(...)`
- `function delegateFunctionSignatures(...)`
- `function delegateAddress(...)`
- `function delegateAddresses(...)`
- `function updateContract(...)`
- `event CommitMessage(...)`
- `event FunctionUpdate(...)`

##### ‚ú® New functions (ERC-2535)

- `function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata)`
- `function facets() external view returns (Facet[] memory)`
- `function facetFunctionSelectors(address _facet) external view returns (bytes4[] memory)`
- `function facetAddresses() external view returns (address[] memory)`
- `function facetAddress(bytes4 _selector) external view returns (address)`
- `event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata)`

### ‚úçÔ∏è Updated contracts
All contracts have been updated (formatting, renaming, ‚Ä¶) but **no breaking changes**
have been introduced to the business logic.

### üöÄ Deployment & network support
- The PoCo protocol is now available on **Arbitrum One Mainnet**.

### More details

- Update docs and diagrams (#250)
- Deploy on Arbitrum Mainnet (#249)
- Add support for Arbitrum Mainnet (#248)
- Publish NPM package for version `v5.6.0-rc1` (#247)
- Deploy on Arbitrum Sepolia (#246)
- Set owner at deployment (#245)
- Use lib as storage. (#243)
- Save `IexecLibOrders_v5` in config file (#242)
- Migrate proxy to **Diamond pattern - ERC-2535** (#241):
  - Restore compatibility with iExec SDK. (#240)
  - Target latest EVM version (#239)
  - Adapt contracts file tree (#238)
  - Use namespaced storage (#236, #237)
  - Fix script folder (#235)
  - Format all solidity files (#233)
  - Replace ERC1538 wording by diamond Proxy wording (#229, #230, #234)
  - Update deployment CI (#228)
  - Format contracts (#227)
  - Remove ENS module (#225)
  - Add Diamond contract unit tests (#224)
  - Fix `fallback` and `receive` (#223)
  - Init contracts migration (#222)

## v5.5.1 - Fresh development environment

### What's new?

- Add some small optimizations to `IexecPoco2Delegate` contract (#167, #168).
- Add support for CreateX factory.
- Migrate to Ethers v6.
- Migrate all Javascript files to Typescript.
- Purge Truffle.
- Migrate CI from Jenkins to Github Actions.

### Updated contracts

- [x] `IexecPoco2Delegate.sol`

### More details

- Release v5.5.1 #220
- Add gitub action workflow for deployment (#218)
- Rename Avalanche Fuji and Arbitrum Sepolia network configuration (#217)
- Deploy on new testnet chains using CreateX factory (#216)
- Add CreateX factory for new chain deployment (#215)
- Add Github Action CI in order to publish NPM package (#214)
- Housekeeping (#208)
- Add Halborn "Poco v5.5 & Voucher v1.0" audit report (#205)
- Refactor Factory deployer (#206)
- Enable native tests on CI (#204)
- Migrate to Ethers v6:
  - Deployment scripts (#187, #203)
  - Tests
    - IexecEscrow (#199)
    - ENSIntegration, IexecOrderManagement, IexecRelay (#195, #199)
    - IexecCategoryManager, IexecERC20 (#192, #199, #202)
    - test/*fullchain* (#190, #196)
    - IexecAccessors, IexecMaintenance (#189, #191, #199)
    - IexecPoco (#196)
    - `trust` specific field (#201)
    - IexecPocoBoost (#198)
    - fixed a minor issue in BigInt for IexecWrapper (#202).
- Migrate scripts to TypeScript: (#184)
  - `getFunctionSignatures.js`, `common-test-snapshot.js`, `test-storage.js`, `timelock.js`
- Migrated utility files to TypeScript : (#183)
  - `FactoryDeployer.js`, `constants.js`, `odb-tools.js`
  - Removed deprecated `scripts/ens/sidechain.js`
- Purge Truffle leftovers (#180, #181, #182, #185, #186)
- Sunset Jenkins pipeline (#178)
- Re-use variable in `IexecPoco2Delegate` in `contribute(...)` function. (#168)
- Remove unnecessary back and forth transfers in `IexecPoco2Delegate` happening during `claim(..)`. (#167)
- Remove references to blockscout v5. (#161)
- Migrate integration test files to Typescript & Hardhat:
  - 000_fullchain.js (#156, #157)
  - 00X_fullchain-Xworkers.js (#158, #159)
  - 000_fullchain-5workers-1error.js (#160, #162)
  - Clean ToDo (#163)
  - 200_fullchain-bot.js (#164, #166)
  - 201_fullchain-bot-dualPool.js (#171, #172)
  - Fix balance checks in integration tests (#165)
  - 300_fullchain-reopen.js (#170, #173)
  - 000_fullchain-ABILegacy.js (#174, #175)
  - 400_contributeAndCallback.js (#176, #177)
- Remove `smock` from unit tests:
  - IexecEscrow.v8 (#154, #155)
  - IexecPocoDelegate (#149, #151)
  - IexecPocoBoost (#148, #150, #153)
- Migrate unit test files to Typescript & Hardhat:
  - ERC1154 (#145, #146, #147, #152)
  - IexecEscrowToken (#141, #143)
  - IexecRelay (#140)
  - IexecPoco1 (#136, #137)
  - IexecPoco2
    - kitty (#142, #144)
    - reopen (#135)

## v5.5.0 - Deal sponsoring

### What's new?

- Added the ability to sponsor a deal for a requester via the new `sponsorMatchOrders(..)` function.
  - contracts implementation ‚úçÔ∏è
  - deployment on iExec Bellecour network üöÄ
- Initialized ¬´ boost ¬ª mode to improve deal throughput
  - contracts implementation ‚úçÔ∏è

### More details

- Include `IexecOrderManagement` module in Poco sponsoring upgrade. (#132)
- Update function visibilities to `external` in `IexecPoco` and `IexecOrderManagement` modules. (#131)
- Fix configs native and token. (#129)
- Bump dependencies: (#127)
  - `@openzeppelin/hardhat-upgrades`, `hardhat-dependency-compiler`, `web3`,
        `prettier`, `zx`, and others [minor/patch version bump]
  - `prettier-plugin-organize-imports@4`
- Clean some TODOs and harmonize unit tests. (#123)
- Add `set-callback-gas.ts` script. (#121)
- Accept any signature format in `SignatureVerifier.v8` when the account is a smart contract. (#120)
- Update UML class diagrams. (#112)
- Generate Solidity documentation. (#111)
- Migrate unit test files to Typescript & Hardhat:
  - Resources (#125, #126)
  - Registries (#122, #124)
  - IexecPoco2
    - reopen (#133)
    - finalize (#79, #117, #119)
    - reveal (#114, #118)
    - contribute (#108, #109, #110)
  - IexecPoco1 (#107, #113, #115, #116)
  - Add `.test` suffix to unit test files (#106)
  - ENSIntegration (#105)
  - IexecOrderManagement (#101, #102, #103, #104)
  - IexecMaintenance (#100)
  - IexecEscrowNative (#99)
  - IexecERC20 (#98)
  - IexecCategoryManager (#97)
  - IexecAccessors (#96)
- Wait for transactions occurring during deployment. (#95)
- Deploy and configure ENS with hardhat. (#93)
- Fix contribute & finalize with callbacks. (#92)
- [Deploy Poco sponsoring on local fork of Bellecour](./scripts/sponsoring/README.md). (#91)
- Create slither smart contract entry point and run slither analysis on new contracts. (#87)
- Upgrade to `@openzeppelin/contracts@5.0.2` and upgrade other dependencies. (#86)
- Deploy IexecPocoAccessorsDelegate module. (#85)
- Create `_computeDealVolume` and expose `ComputeDealVolume` functions (#82)
- Upgrade Order Management to solidity `^0.8.0`. (#84)
- Resolve naming conflict in accessors. (#81)
- Refund sponsor on `claimBoost`. (#80)
- Seize sponsor on success task. (#79)
- Refund sponsor on `claim`. (#77)
- Sponsor match orders boost. (#67, #78)
- Migrate to hardhat tests related to:
  - `initialize` (#74, #75)
  - `claim` (#65, #66, #72, #76)
- Upgrade Poco2 to solidity v0.8 . (#63)
- Use common helpers in Poco Boost integration tests. (#62)
- Upload coverage reports to Codecov. (#61)
- Deploy contracts in tests explicitly with hardhat or truffle fixture. (#59)
- Add the ability to deploy without truffle fixture. (#58)
- Sponsor match orders. (#57, #60)
- Upgrade Poco1 to solidity `^0.8.0` (#55):
  - Migrate to `openzeppelin@v5`
  - Migrate to `SignatureVerifier.v8`
- Change MNEMONIC var name for production & clean Hardhat file. (#53)
- Format files & update copyright notices:
  - DelegateBase, IexecERC20Core (#64)
  - PoCo2 contracts (#54)
  - PoCo1 contracts (#52)
  - Order Management contract (#83)
- Remove enterprise mode. (#51, #56)
- Add PoCo Boost modules to a timelock controlled proxy.
- Add IexecEscrow.v8 tests and developer notices.
- Add tests around callback feature verifying interests of actors are guaranteed.
- Reformat JS files.
- Create a hardhat network close to the iExec Bellecour blockchain.
- Merge settings and v8Settings using object spread.
- Remove useless files.
- Add Slither config. Run single contract Slither analysis on CI.
- Make Poco Boost ITs runnable with "native" mode.
- Migrate puml2links.sh to zx.
- Update copyright and license notices.
- Introduce zx for task scripting.
- Compile latest contracts with 0.8.21.
- Use a single 0.8.19 solidity version to compile latest contracts.
- Fix prettier solidity plugin resolution.
- Remove patched test helpers.
- Clean poco-chain files.
- Bump dependencies.
- Check balance in transfer operation.
- Reformat tests.
- Reformat contracts.
- Add mocha to use test explorer.
- Refactor tests.
- Add dedicated Poco Boost accessors.
- Implement `claimBoost`:
  - Refund requester.
  - Seize workerpool and reward kitty.
- Implement `pushResultBoost`:
  - Verify task exists.
  - Push result before deadline.
  - Require enclave challenge when TEE bit of tag set.
  - Verify signatures
    - scheduler
    - enclave
    - tee broker
  - Reward worker.
  - Reward app provider.
  - Reward dataset provider.
  - Unlock scheduler stake.
  - Reward scheduler.
  - Handle callback.
- Implement `matchOrdersBoost`:
  - Verify compatibility of orders
    - trust
    - category
    - price
    - tag
    - restrictions
      - Assets or requester belong to groups in ERC734 identity contract.
  - Verify entries are registered & category exists.
  - Verify signatures or presignatures of orders.
            - ERC1271 contracts can be signers of orders.
  - Compute volume & consume orders.
  - Lock requester deal value.
  - Store deal.
  - Emit events.
  - Lock scheduler stake.
  - Return `dealId`.
  - Reduce gas footprint:
    - Remove beneficiary from deal storage.
    - Reduce Boost deal storage from 6 to 5 slots.
    - Reduce gas consumption on `lock()` calls.
    - Cache addresses of assets and requester from arguments.
    - Init local vars and cache order category.
    - Optimize deal storing by slot.
    - Change local structure for local variables.
    - Store in variable if read multiple times.
    - Group `hasDataset` block.
  - Remove useless variable.
- Update prettier rules and reformat.
- Migrate `IexecPocoBoost` linking to hardhat deploy script.
- Clean files related to docker build of a test blockchain.
- Run automatically before commit a prettier on `.ts` and `.sol` staged files.
- Upgrade `eth_signTypedData` function to use `ethers`. Remove now useless `eth-sig-util`.
- Init Boost deal structure.
- Publish coverage report on CI/CD. Refactor Jenkinsfile.
- Deploy Nominal and Boost modules with Hardhat.
- Upgrade `hashStruct` function to use `ethers`.
- Add Boost module.
  - Add interfaces.
- Add `Store` contract compatible with solidity `^0.8.0`.
- Update documentation:
  - Generate class diagrams from solidity contracts.
  - Add task and contribution state diagrams.
  - Add boost workflow sequence diagram. Update nominal workflow sequence diagram.
  - Update TEE workflow sequence diagram.
  - Update actors diagram.
  - Rename UMLs.md file to standard README.md.
  - Add inline solidity documentation.
  - Update class diagrams.
  - Create folder docs that contains all documentation material.
- Migrate to Hardhat:
  - Init Hardhat project.
  - Migrate unit tests with `@nomiclabs/hardhat-truffle5`.
  - Fetch `@iexec/solidity@0.1.1` from default public registry.
  - Migrate tests coverage with [solidity-coverage](https://github.com/sc-forks/solidity-coverage) of `@nomicfoundation/hardhat-toolbox`.

## v5.4.2

- Use latest Nethermind base image `nethermindeth/nethermind:iexec`
(saved internally at `nexus.intra.iex.ec/nethermind:1.18.x-0`)
containing a fix for [#5506](https://github.com/NethermindEth/nethermind/issues/5506).

## v5.4.1

- Fix default `poco-chain` `CMD`. (#127)

## v5.3.2

- remove EIP 1559 for native testchains
- drop testchain ganache 1s builds in favor of custom cmd (use `--miner.blockTime 1`)
- add FIFS ens domains in testchains migrations

## v5.3.1

- updated dev deps
- migrated from parity to openethereum
- upgraded ganache from v6 to v7
- updating testchains to support london and arrow-glacier hardforks

## v5.3.0

- added iExec enterprise
